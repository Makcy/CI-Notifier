# GitLab CI/CD Notifier

ä¸€æ¬¾å…¼å®¹ macOS å’Œ Windows çš„æ¡Œé¢åº”ç”¨ï¼Œç”¨äºç›‘æ§ç§æœ‰åŒ–éƒ¨ç½²çš„ GitLab é¡¹ç›®çš„ CI/CD æµæ°´çº¿çŠ¶æ€ã€‚å½“æ£€æµ‹åˆ°æµæ°´çº¿çŠ¶æ€å˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨å‘é€æ¡Œé¢é€šçŸ¥ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å®‰å…¨ç™»å½•**: æ”¯æŒ GitLab Access Token è®¤è¯
- ğŸ“Š **å®æ—¶ç›‘æ§**: è‡ªåŠ¨è½®è¯¢ç›‘æ§é€‰å®šé¡¹ç›®çš„ CI/CD çŠ¶æ€
- ğŸ”” **æ¡Œé¢é€šçŸ¥**: æµæ°´çº¿çŠ¶æ€å˜åŒ–æ—¶å‘é€ç³»ç»Ÿé€šçŸ¥
- ğŸ¯ **ç³»ç»Ÿæ‰˜ç›˜**: æœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼Œå¿«é€ŸæŸ¥çœ‹é¡¹ç›®çŠ¶æ€
- ğŸ¨ **ç°ä»£ç•Œé¢**: åŸºäº Element Plus çš„ç¾è§‚ç”¨æˆ·ç•Œé¢
- ğŸŒ **è·¨å¹³å°**: æ”¯æŒ macOS å’Œ Windows ç³»ç»Ÿ
- âš¡ **é«˜æ€§èƒ½**: åŸºäº Electron + Vue 3 + TypeScript

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+ 
- npm æˆ– yarn
- GitLab å®ä¾‹ï¼ˆæ”¯æŒ API v4ï¼‰

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/gitlab-ci-notifier.git
cd gitlab-ci-notifier

# å®‰è£…ä¾èµ–
npm install
```

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run electron:serve
```

### æ„å»ºåº”ç”¨

```bash
# æ„å»º Web èµ„æº
npm run build:web

# æ„å»º Electron åº”ç”¨
npm run build:electron

# ä¸€é”®æ„å»ºï¼ˆæ¨èï¼‰
npm run build
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. é¦–æ¬¡é…ç½®

1. **å¯åŠ¨åº”ç”¨**: åŒå‡»åº”ç”¨å›¾æ ‡æˆ–ä»å‘½ä»¤è¡Œå¯åŠ¨
2. **GitLab ç™»å½•**: 
   - è¾“å…¥æ‚¨çš„ GitLab å®ä¾‹åœ°å€ï¼ˆå¦‚ï¼š`https://gitlab.example.com`ï¼‰
   - è¾“å…¥ Personal Access Token
3. **è·å– Access Token**:
   - ç™»å½• GitLab â†’ User Settings â†’ Access Tokens
   - åˆ›å»ºæ–° Tokenï¼Œé€‰æ‹© `api` å’Œ `read_user` æƒé™
   - å¤åˆ¶ç”Ÿæˆçš„ Token

### 2. é¡¹ç›®é€‰æ‹©

1. **æµè§ˆé¡¹ç›®**: ç™»å½•æˆåŠŸåä¼šæ˜¾ç¤ºæ‚¨æœ‰æƒé™è®¿é—®çš„é¡¹ç›®åˆ—è¡¨
2. **é€‰æ‹©ç›‘æ§é¡¹ç›®**: å‹¾é€‰å¸Œæœ›ç›‘æ§çš„é¡¹ç›®
3. **å¼€å§‹ç›‘æ§**: ç‚¹å‡»"å¼€å§‹ç›‘æ§"æŒ‰é’®

### 3. ç›‘æ§é¢æ¿

- **çŠ¶æ€æ¦‚è§ˆ**: æŸ¥çœ‹æˆåŠŸ/å¤±è´¥/è¿è¡Œä¸­çš„é¡¹ç›®æ•°é‡
- **é¡¹ç›®åˆ—è¡¨**: æ˜¾ç¤ºæ¯ä¸ªé¡¹ç›®çš„è¯¦ç»†çŠ¶æ€ä¿¡æ¯
- **å®æ—¶æ›´æ–°**: çŠ¶æ€ä¼šè‡ªåŠ¨åˆ·æ–°ï¼ˆé»˜è®¤30ç§’é—´éš”ï¼‰

### 4. ç³»ç»Ÿæ‰˜ç›˜

- **å›¾æ ‡çŠ¶æ€**:
  - ğŸŸ¢ ç»¿è‰²ï¼šæ‰€æœ‰é¡¹ç›®æˆåŠŸ
  - ğŸ”´ çº¢è‰²ï¼šå­˜åœ¨å¤±è´¥é¡¹ç›®
  - ğŸ”µ è“è‰²ï¼šæœ‰é¡¹ç›®æ­£åœ¨è¿è¡Œ
- **å³é”®èœå•**: å¿«é€Ÿè®¿é—®é¡¹ç›®çŠ¶æ€å’Œåº”ç”¨åŠŸèƒ½
- **ç‚¹å‡»æ‰˜ç›˜**: æ˜¾ç¤º/éšè—ä¸»çª—å£

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **æ¡Œé¢æ¡†æ¶**: Electron 28+
- **å‰ç«¯æ¡†æ¶**: Vue 3.4+ + Vite 5+
- **UI ç»„ä»¶åº“**: Element Plus 2.4+
- **çŠ¶æ€ç®¡ç†**: Pinia 2.1+
- **å¼€å‘è¯­è¨€**: TypeScript 5+
- **HTTP å®¢æˆ·ç«¯**: Axios 1.6+
- **æœ¬åœ°å­˜å‚¨**: electron-store 8+
- **æ‰“åŒ…å·¥å…·**: electron-builder 24+

### é¡¹ç›®ç»“æ„

```
gitlab-ci-notifier/
â”œâ”€â”€ src/                    # Vue å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ views/             # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ stores/            # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/          # å‰ç«¯æœåŠ¡å±‚
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ types/             # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ electron/              # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ main.ts            # ä¸»è¿›ç¨‹å…¥å£
â”‚   â”œâ”€â”€ preload.ts         # é¢„åŠ è½½è„šæœ¬
â”‚   â””â”€â”€ services/          # åç«¯æœåŠ¡
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”œâ”€â”€ build/                 # æ„å»ºèµ„æº
â””â”€â”€ release/               # æ‰“åŒ…è¾“å‡º
```

### æ ¸å¿ƒæ¨¡å—

1. **ä¸»è¿›ç¨‹ (Main Process)**
   - çª—å£ç®¡ç†
   - ç³»ç»Ÿæ‰˜ç›˜
   - IPC é€šä¿¡
   - ç³»ç»Ÿé€šçŸ¥

2. **æ¸²æŸ“è¿›ç¨‹ (Renderer Process)**
   - Vue 3 åº”ç”¨
   - ç”¨æˆ·ç•Œé¢
   - çŠ¶æ€ç®¡ç†

3. **GitLab æœåŠ¡**
   - API è°ƒç”¨
   - æ•°æ®è½®è¯¢
   - çŠ¶æ€ç›‘æ§

4. **é€šçŸ¥æœåŠ¡**
   - æ¡Œé¢é€šçŸ¥
   - æ‰˜ç›˜æ›´æ–°
   - çŠ¶æ€å˜åŒ–æ£€æµ‹

## ğŸ”§ é…ç½®é€‰é¡¹

### åº”ç”¨è®¾ç½®

å¯ä»¥é€šè¿‡ä¿®æ”¹ `src/utils/constants.ts` è°ƒæ•´ä»¥ä¸‹é…ç½®ï¼š

```typescript
export const DEFAULT_SETTINGS = {
  pollingInterval: 30000,    // è½®è¯¢é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  enableNotifications: true, // å¯ç”¨é€šçŸ¥
  enableSound: false,        // å¯ç”¨å£°éŸ³
  minimizeToTray: true,      // æœ€å°åŒ–åˆ°æ‰˜ç›˜
  startMinimized: false      // å¯åŠ¨æ—¶æœ€å°åŒ–
}
```

### æ„å»ºé…ç½®

ä¿®æ”¹ `electron-builder.config.js` å¯ä»¥è‡ªå®šä¹‰ï¼š

- åº”ç”¨å›¾æ ‡å’Œåç§°
- å®‰è£…ç¨‹åºé…ç½®
- ä»£ç ç­¾åè®¾ç½®
- è‡ªåŠ¨æ›´æ–°é…ç½®

## ğŸ“¦ æ‰“åŒ…åˆ†å‘

### macOS

```bash
# æ„å»º DMG å®‰è£…åŒ…
npm run build

# è¾“å‡ºæ–‡ä»¶
release/GitLab CI Notifier-1.0.0.dmg
release/GitLab CI Notifier-1.0.0-mac.zip
```

### Windows

```bash
# æ„å»º Windows å®‰è£…åŒ…
npm run build

# è¾“å‡ºæ–‡ä»¶
release/GitLab CI Notifier Setup 1.0.0.exe
release/GitLab CI Notifier 1.0.0.exe (ä¾¿æºç‰ˆ)
```

### ä»£ç ç­¾å

ä¸ºäº†é¿å…ç³»ç»Ÿå®‰å…¨è­¦å‘Šï¼Œå»ºè®®å¯¹åº”ç”¨è¿›è¡Œä»£ç ç­¾åï¼š

**macOS**:
```bash
# è®¾ç½®å¼€å‘è€…è¯ä¹¦
export CSC_NAME="Developer ID Application: Your Name"
npm run build
```

**Windows**:
```bash
# è®¾ç½®ä»£ç ç­¾åè¯ä¹¦
export CSC_LINK="path/to/certificate.p12"
export CSC_KEY_PASSWORD="certificate_password"
npm run build
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ— æ³•è¿æ¥ GitLab**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯ GitLab åœ°å€æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ Access Token æƒé™

2. **é€šçŸ¥ä¸æ˜¾ç¤º**
   - æ£€æŸ¥ç³»ç»Ÿé€šçŸ¥æƒé™
   - ç¡®è®¤åº”ç”¨æœªè¢«é™éŸ³

3. **æ‰˜ç›˜å›¾æ ‡ä¸æ˜¾ç¤º**
   - ç¡®ä¿å›¾æ ‡æ–‡ä»¶å­˜åœ¨äº `public/` ç›®å½•
   - æ£€æŸ¥ç³»ç»Ÿæ‰˜ç›˜è®¾ç½®

4. **åº”ç”¨å¯åŠ¨å¤±è´¥**
   - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
   - ç¡®è®¤ Node.js ç‰ˆæœ¬å…¼å®¹æ€§

### æ—¥å¿—è°ƒè¯•

å¼€å‘æ¨¡å¼ä¸‹å¯ä»¥æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š

```bash
# å¯åŠ¨å¼€å‘æ¨¡å¼
npm run electron:serve

# æŸ¥çœ‹ä¸»è¿›ç¨‹æ—¥å¿—
# åœ¨ç»ˆç«¯ä¸­æ˜¾ç¤º

# æŸ¥çœ‹æ¸²æŸ“è¿›ç¨‹æ—¥å¿—
# åœ¨åº”ç”¨ä¸­æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Electron](https://electronjs.org/) - è·¨å¹³å°æ¡Œé¢åº”ç”¨æ¡†æ¶
- [Vue.js](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [Element Plus](https://element-plus.org/) - Vue 3 ç»„ä»¶åº“
- [GitLab](https://gitlab.com/) - DevOps å¹³å°

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–å¸®åŠ©ï¼š

- ğŸ“§ é‚®ç®±: your-email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-username/gitlab-ci-notifier/issues)
- ğŸ“– æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£](https://github.com/your-username/gitlab-ci-notifier/wiki)

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼